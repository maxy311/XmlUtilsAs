!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";var n=o(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(2)),r=o(3);function l(e){if(!e)return null;var t="";return-1!==e.indexOf("/talks/")?(t=e.slice(e.indexOf("/talks/")+7)).indexOf("/")>-1?t.split("/")[0]:t:null}window.videoCheck=function(e){null===l(e)?i.showDownloadBtn("disable"):i.showDownloadBtn("analyze")},window.getVideoInfo=function(e){var t=l(e);if(console.log("getVideoInfo:"+e),null!==t){var o=function(e){if(!e)return!1;var t=l(e),o={url:e,method:"get",header:JSON.stringify({"User-Agent":"Mozilla/5.0 (Linux; Android 4.3; Build/KRT16M) AppleWebKit/517.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36"})},s=JSON.parse(i.http(o)).result;if(console.log("http success"),!s)return console.log("http result is null"),!1;var u=(0,n.between)(s,'"__INITIAL_DATA__":',"})<\/script>");u=JSON.parse(u);try{if(u){var d=new r.dl_video;if(d.id=t,d.title=u.name,d.description=u.description,d.source="ted",u.talks[0]){var a=u.talks[0].downloads,c=a.audioDownload,f=a.nativeDownloads;if(!c&&!f)return console.log("audioDownload & nativeDownloads  is null "),!1;if(c&&c.length>0&&((h=new r.dl_video_file).id=t,h.resolution="audio",h.format="MP3",h.url=c,d.audios.push(h)),f)for(var p in f){var h;(h=new r.dl_video_file).id=t,h.resolution=p,h.format="MP4",h.url=f[p],d.videos.push(h)}var v=u.talks[0].player_talks;v.length>0&&(d.thumbnail=v[0].thumb||"")}return 0===d.videos.length&&0===d.audios?(console.log("dlVideo.videos.length === 0 && dlVideo.audios === 0"),!1):d}return!1}catch(e){return!1}}(e);o?i.setVideoInfo(o):i.setVideoInfoError("getVideoInfo result false")}else console.log("vid is null"),i.setVideoInfoError("vid is null")}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.al=function(){alert("start")},t.replace_handle=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&quot;/g,'"')).replace(/&#123;/g,"}")).replace(/&amp;/g,"&")).replace(/u003C/g,"<")).replace(/\\3a/i,":")).replace(/\\26/g,"&")).replace(/\\3d/g,"=")).replace(/\\25/g,"%")).replace(/\\/g,"")).replace(/&#039;/g,"'")).replace(/ /g,"")},t.isElementInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.top<(window.innerHeight||document.documentElement.clientHeight)};var n=t.indexOf=function(e,t){return t instanceof RegExp?e.search(t):e.indexOf(t)};t.between=function(e,t,o){var i=n(e,t);return-1===i?"":(e=e.slice(i+t.length),-1===(i=n(e,o))?"":e=e.slice(0,i))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.http=function(e){var t={url:"",isEncode:!1,postData:"",method:"",header:""};return t=Object.assign(t,e),window.shareitBridge.syncInvoke("download","httpRequest",JSON.stringify(t))},t.setVideoInfo=function(e){window.videoBrowser.setVideoInfo(JSON.stringify(e))},t.showVideoInfo=function(e){window.videoBrowser.showVideoInfo(JSON.stringify(e))},t.showDownloadBtn=function(e){window.videoBrowser.showDownloadBtn(e)},t.setVideoInfoError=function(e){window.videoBrowser.setVideoInfoError()},t.httpGetCookie=function(e){return window.videoBrowser.httpGetCookie(e)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dl_video=function(){this.id="",this.title="",this.description="",this.thumbnail="",this.source="",this.audios=[],this.videos=[]},t.dl_video_file=function(){this.id="",this.resolution="",this.bitrate="",this.width=0,this.height=0,this.format="",this.size="",this.url=""}}]);